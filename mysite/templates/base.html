{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">
	<head>
    

    <title>Django Tailwind</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		{% tailwind_css %}
        <script src="../static/js/mysite.js">

        </script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/date-fns"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
	</head>
    <style>
        .active{
          font-weight: 900;
          font-size: large;
        }
        #myScrollspy{
            transition: background-color 0.5s;
        }
        #dropdownMenu{
            transition: opacity 0.5s;
        }
      </style>
      <nav class='w-screen h-[80px] z-20 fixed drop-shadow-lg top-0 fadeIn  text-black bg-white'  id="myScrollspy" >
        <div class='px-2 flex w-full h-full justify-between'>
          <div class='flex items-center flex-row'>
                <a class='text-3xl font-bold mr-4 sm:text-4xl h-[80px] w-[80px]' href="/">
                    <img id="logowhite" {% if self.transparent %} class=""  {% else %} class="hidden"  {% endif %} src="../../static/assets/Logo_weiÃŸ.png" alt="">
                    <img id="logoschwarz" {% if self.transparent %} class="hidden" {% else %}   {% endif %}  src="../../static/assets/Logo_schwarz.png" alt="">
                </a>
                <a class='text-3xl font-extrabold mr-4 sm:text-4xl pt-2 hidden sm:inline-block' href="/">ACROCON</a>
          </div>
          <div class='flex items-center'>
          <ul class='hidden md:flex items-center'>
                        <li ><a class="m-4 nbar projekte" href="/moves/exercises" >MOVES</a></li>
                        <li ><a class="p-4 nbar projekte" href="/moves/create" >ADD MOVE</a></li>
                        <li ><a class="m-4 nbar projekte" href="/tracker/createWorkout" >FITNESSTRACKER</a></li>
                        <!-- <li ><a class="p-4 nbar ablauf" href="/tracker/record" >RECORD</a></li> -->
          </ul>
          <div class="hidden md:flex pr-4">
            {% if user.is_authenticated %}
            <li ><a class="p-4 nbar projekte" href="/authuser/logout" >LOGOUT</a></li>
            
            <!-- 
            <form class="site-form" action="/authuser/logout/" method="post">
                {% csrf_token %}
                <input class="px-8 ml-4 py-3 solidButton button-primary" type="submit" value="LOGOUT" />
            </form>
            -->
            {% else %}
            <a
              class="px-8 ml-4 py-3 solidButton button-primary"
              href="/authuser/login"
              >LOGIN</a
            >
            {% endif %}
          </div>
            <!-- <div class='hidden md:flex pr-4'>
            <a class='px-8 ml-4 py-3 solidButton' href="/authuser/signup">PROFILE</a>
            </div> -->
            <button class="md:hidden mr-4" onclick="dropDown()" id="dropButton"> 
                <svg class="{% if self.transparent %} fill-white {% else %} fill-black {% endif %}" id="burgerMenu" viewBox="0 0 100 80" width="32" height="32">
                    <rect width="100" height="15"></rect>
                    <rect y="30" width="100" height="15"></rect>
                    <rect y="60" width="100" height="15"></rect>
                  </svg>
            </button>
          </div>
        </div>
        <ul class="absolute bg-white text-black w-full px-8 text-center opacity-0 md:hidden" id="dropdownMenu">
            <li ><a class="m-4 nbar projekte" href="/moves/exercises" >MOVES</a></li>
            <li ><a class="p-4 nbar projekte" href="/moves/create" >ADD MOVE</a></li>
            <li ><a class="m-4 nbar projekte" href="/tracker/createWorkout" >FITNESSTRACKER</a></li>
        
      
          <div class='flex flex-col my-4 '>
            {% if user.is_authenticated %}
            <li ><a class="p-4 nbar projekte" href="/authuser/logout" >LOGOUT</a></li>
            
            <!-- 
            <form class="site-form" action="/authuser/logout/" method="post">
                {% csrf_token %}
                <input class="px-8 ml-4 py-3 solidButton button-primary" type="submit" value="LOGOUT" />
            </form>
            -->
            {% else %}
            <a
              class="px-8 ml-4 py-3 solidButton button-primary"
              href="/authuser/login"
              >LOGIN</a
            >
            {% endif %}
          </div>
        </ul> 
      </nav>
      
      <div class="mb-[120px]">

            {% block content %}
             {% endblock %}

             <hr class="mt-5 mx-3">
<footer class="flex flex-row flex-wrap m-5 relative">
  <div class="absolute w-[20vw] h-[20vw] right-0 opacity-50 top-[calc(-30px-20vw)] -z-10">
    <img src="" alt="">
  </div>
  
  <div class="basis-full sm:basis-1/2 md:basis-1/4 flex flex-row my-2 ">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
    </svg>
    
    <h3 class="pl-2">+49 157 52595165</h3>
  </div>
  <div class="basis-full sm:basis-1/2 md:basis-1/4 flex flex-row my-2">
    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" stroke-width="1.5" stroke="currentColor" ><path d="M 16 3 C 8.8324839 3 3 8.8324839 3 16 L 3 34 C 3 41.167516 8.8324839 47 16 47 L 34 47 C 41.167516 47 47 41.167516 47 34 L 47 16 C 47 8.8324839 41.167516 3 34 3 L 16 3 z M 16 5 L 34 5 C 40.086484 5 45 9.9135161 45 16 L 45 34 C 45 40.086484 40.086484 45 34 45 L 16 45 C 9.9135161 45 5 40.086484 5 34 L 5 16 C 5 9.9135161 9.9135161 5 16 5 z M 37 11 A 2 2 0 0 0 35 13 A 2 2 0 0 0 37 15 A 2 2 0 0 0 39 13 A 2 2 0 0 0 37 11 z M 25 14 C 18.936712 14 14 18.936712 14 25 C 14 31.063288 18.936712 36 25 36 C 31.063288 36 36 31.063288 36 25 C 36 18.936712 31.063288 14 25 14 z M 25 16 C 29.982407 16 34 20.017593 34 25 C 34 29.982407 29.982407 34 25 34 C 20.017593 34 16 29.982407 16 25 C 16 20.017593 20.017593 16 25 16 z"/></svg>
    <h3 class="pl-2" >johannesdpunkt</h3>
  </div>
  <div class="basis-full basis-1/2 md:basis-1/4 flex flex-row my-2">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
    </svg>
    
    <h3 class="pl-2">johannesduelberg@web.de</h3>
  </div>
  <div class="basis-full sm:basis-1/2 md:basis-1/4 md:text-right my-2">
    <a href="/impressum">
      Impressum
    </a>
  </div>
    
  </footer>

      </div>
      
      
      
      <script>
        window.addEventListener('DOMContentLoaded', event => {
        
        // Navbar shrink function
        var navbarShrink = function () {
            const navbarCollapsible = document.body.querySelector('.trans');
            const burgerMenu = document.body.querySelector('#burgerMenu');
            
            if (!navbarCollapsible) {
                return;
            }
            if (window.scrollY === 0) {
                navbarCollapsible.classList.add('text-white')
                document.getElementById("logoschwarz").classList.add("hidden");
                document.getElementById("logowhite").classList.remove("hidden");
                navbarCollapsible.classList.remove('bg-white')
                burgerMenu.classList.add('fill-white')
                burgerMenu.classList.remove('fill-black')
                document.getElementById("dropdownMenu").classList.add("opacity-0");
                document.getElementById("dropdownMenu").classList.remove("opacity-100");
        
                
                
        
        
            } else {
                document.getElementById("logowhite").classList.add("hidden");
                document.getElementById("logoschwarz").classList.remove("hidden");
                navbarCollapsible.classList.remove('text-white')
                navbarCollapsible.classList.add('bg-white')
                burgerMenu.classList.add('fill-black')
                burgerMenu.classList.remove('fill-white')
            }
        
        };
        
        
        
        
        // Shrink the navbar when page is scrolled
        document.addEventListener('scroll', navbarShrink);
        
        
        //SCROLLSPY
        const c1 = document.querySelector(".vita")
        const c2 = document.querySelector(".projekte")
        const c3 = document.querySelector(".ablauf")
        const items = document.querySelectorAll(".nbar")
        const vita = document.getElementById("vita")
        const projekteContainer = document.getElementById("projekte")
        const ablauf = document.getElementById("ablauf")
        
        
        const observer1 = new IntersectionObserver(entries => {
            if (entries[0].isIntersecting == true){
                items.forEach(element => {
                    element.classList.remove("active");
                });
                c1.classList.add("active");
                
            }else{
                c1.classList.remove("active");
            }
        },{ threshold: 0.3})
        const observer2 = new IntersectionObserver(entries => {
            if (entries[0].isIntersecting == true){
                items.forEach(element => {
                    element.classList.remove("active");
                });
                c2.classList.add("active");
            }else{
                c2.classList.remove("active");
            }
        },{ threshold: 0.3})
        const observer3 = new IntersectionObserver(entries => {
            if (entries[0].isIntersecting == true){
                items.forEach(element => {
                    element.classList.remove("active");
                });
                c3.classList.add("active");
            }else{
                c3.classList.remove("active");
            }
        },{ threshold: 0.3})
        
        try {observer1.observe(vita)} catch {}
        try { observer2.observe(projekteContainer)} catch {}
        try {observer3.observe(ablauf)} catch {}
        
        
        
        
        
        });
        var closeNavbar = function () {
        const navbarCollapsible = document.getElementById("dropdownMenu");
            
            if (!navbarCollapsible.classList.contains("hidden")){
                //document.getElementById("dropdownMenu").classList.add("hidden");
                document.getElementById("logowhite").classList.add("hidden");
                document.getElementById("logoschwarz").classList.remove("hidden");
                document.getElementById("dropdownMenu").classList.add("opacity-0");
                document.getElementById("dropdownMenu").classList.add("hidden");
                document.getElementById("dropdownMenu").classList.remove("opacity-100");
                document.getElementById("dropButton").disabled=false;
            }
        
        }
        document.addEventListener('click', closeNavbar);
        
        function dropDown() {
          console.log("WORKED")
            setTimeout(() => {   
                document.getElementById("logowhite").classList.add("hidden");
                document.getElementById("logoschwarz").classList.remove("hidden");
                document.getElementById("dropdownMenu").classList.remove("hidden");
                document.getElementById("dropdownMenu").classList.add("opacity-100");
                document.getElementById("dropdownMenu").classList.remove("opacity-0");
                document.getElementById("dropButton").disabled=true;
                const navbarCollapsible = document.body.querySelector('#myScrollspy');
                const burgerMenu = document.body.querySelector('#burgerMenu');
                navbarCollapsible.classList.remove('text-white')
                navbarCollapsible.classList.add('bg-white')
                burgerMenu.classList.add('fill-black')
                burgerMenu.classList.remove('fill-white')
            }, 100);
        }
        
        </script>

        
        
	

</html>
